!function(a,b){"object"==typeof exports&&"object"==typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):"object"==typeof exports?exports.http=b():a.http=b()}(this,function(){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p="",b(0)}([function(a,b,c){var d,e,f;!function(){"use strict";function g(a,b,c,d,e){return{Request:a,Response:b,ResponseTypes:c,HttpMethods:d,ContentTypes:e}}return e=[c(5),c(1),c(3),c(4),c(2)],d=g,f="function"==typeof d?d.apply(b,e):d,!(void 0!==f&&(a.exports=f))}()},function(a,b,c){!function(){"use strict";function b(a){var b=function(a){this.request=a,this.status=a.xhr.status,this.headers={},this._setHeaders(),this._setStatus()};return b.prototype={_setHeaders:function(){this.headers=this._parseHeaders(this.request.xhr.getAllResponseHeaders()),this.headers["content-type"]=this.request.xhr.getResponseHeader("content-type")},_parseHeaders:function(a){var b,c,d,e=a.split(/\r?\n/),f={},g=e[e.length-1];return g.length<3&&e.pop(),e.forEach(function(a){b=a.indexOf(":"),c=a.slice(0,b).toLowerCase(),d=a.slice(b+1).trim(),f[c]=d}),f},_setStatus:function(){this._setCommonStatus(),this._setDetailStatus()},_setCommonStatus:function(){var a=Math.floor(this.status/100)||0;this.aborted=Boolean(this.request.aborted),this.timeout=Boolean(this.request.timeoutExpired),this.info=1===a,this.ok=2===a,this.clientError=4===a,this.serverError=5===a,this.error=4===a||5===a,this.success=this.status>=200&&this.status<300},_setDetailStatus:function(){this.created=201===this.status,this.accepted=202===this.status,this.noContent=204===this.status,this.badRequest=400===this.status,this.unauthorized=401===this.status,this.forbidden=403===this.status,this.notFound=404===this.status,this.notAcceptable=406===this.status,this.toManyRequests=429===this.status},get contentType(){var b=this.headers["content-type"]||"",c="";return Object.keys(a).forEach(function(d){b===a[d]&&(c=a[d])}),c},get json(){try{return JSON.parse(this.request.xhr.responseText)}catch(a){}return{}},get xml(){return this.request.xhr.responseXML},get data(){return this.contentType===a.json?this.json:this.contentType===a.xml?this.xml:this.request.xhr.responseText},get response(){return this.request.xhr.response}},b}a.exports=b(c(2))}()},function(a,b){!function(){"use strict";a.exports={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded"}}()},function(a,b){!function(){"use strict";a.exports={DEFAULT:"",JSON:"json",ARRAY_BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",TEXT:"document"}}()},function(a,b){!function(){"use strict";a.exports={GET:"GET",POST:"POST",PUT:"PUT",DELETE:"DELETE",HEAD:"HEAD",PATCH:"PATCH"}}()},function(a,b,c){!function(){"use strict";function b(a,b,c,d){var e=function(){},f=function(a){return"function"==typeof a},g=function(a){return"object"==typeof a&&!Array.isArray(a)&&null!==a},h=function(a){return"string"==typeof a},i=function(){this._xhr=null,this._formData=null,this._headers={},this._params={},this._data={},this._url="",this._responseType=b.DEFAULT,this._queryTimeout=25e3,this._withCredentials=!1,this._method=c.GET,this._requestType=d.json,this._callback=e,this._onProgress=e(),this._onUploadProgress=e(),this._onUpload=e(),this._timeoutId=0};return i.prototype={set:function(a,b){return this._headers[a]=b,this},type:function(a){return this.set("Content-Type",d[a]||a),this._requestType=a,this},params:function(a){return this._params=a,this},data:function(a){return this._data=a,this},noCache:function(){return this.set("If-Modified-Since","Sat, 1 Jan 2005 00:00:00 GMT"),this},auth:function(a,b){var c=window.btoa(a+":"+b);return this.set("Authorization","Basic "+c),this},oauth:function(a){return this.set("Authorization","OAuth {token}".replace("{token}",a)),this},setMethod:function(a){return this._method=a,this},timeout:function(a){return this._queryTimeout=a,this},withCredentials:function(){return this._withCredentials=!0,this},setUrl:function(a){return h(a)&&(this._url=a),this},field:function(a,b){return this._formData||(this._formData=new FormData),this._formData.append(a,b),this},blob:function(a){return this._formData=a,this},responseType:function(a){return this._responseType=a,this},onProgress:function(a){return f(a)&&(this._onProgress=a),this},onUploadProgress:function(a){return f(a)&&(this._onUploadProgress=a),this},onUpload:function(a){return f(a)&&(this._onUpload=a),this},abort:function(){return this._xhr&&this._xhr.readyState<4&&this._xhr.abort(),this},serialize:function(a){if(!g(a))return a;var b=[];return Object.keys(a).forEach(function(c){b.push(encodeURIComponent(c)+"="+encodeURIComponent(a[c]))}),b.join("&")},deserialize:function(a){var b,c,d={},e=/^https?.+\?(.+)/i;return h(a)&&a.length>0&&(b=a.replace(e,"$1").split("&")),b&&b.length>0&&b.forEach(function(a){c=a.split("="),d[decodeURIComponent(c[0])]=decodeURIComponent(c[1])}),d},get:function(a,b){return this.setMethod(c.GET).setUrl(a).send(b)},post:function(a,b){return this.type(d.urlencoded).setMethod(c.POST).setUrl(a).send(b)},put:function(a,b){return this.setUrl(a).setMethod(c.PUT).send(b)},send:function(a){var b=this._createUrl(),c=this._createBody();return this._createRequest(),this._setCompleteHandler(a),this._bindEvents(),this._setupTimeout(),this._openRequest(b),this._sendRequest(c),this},_createRequest:function(){this._xhr=new XMLHttpRequest},_setCompleteHandler:function(a){f(a)&&(this._callback=a)},_createUrl:function(){var a=this._url,b=this.query,c=this._url.indexOf("?")>0?"&":"?";return b&&(a=this._url+c+b),a},_createBody:function(){return this._formData||this.serialize(this._data)},_bindEvents:function(){this._bindCompleteEvents(),this._bindProgressEvents(),this._bindUploadEvent(),this._bindAbortEvent()},_bindCompleteEvents:function(){var a=this._onRequestComplete.bind(this);this._xhr.onload=a,this._xhr.onerror=a},_bindProgressEvents:function(){this._xhr.onprogress=this._onProgress,this._xhr.upload.onprogress=this._onUploadProgress},_bindUploadEvent:function(){this._xhr.upload.onload=this._onUpload},_bindAbortEvent:function(){var a=this;this.xhr.onabort=function(){a.aborted=!0,a._onRequestComplete()}},_setupTimeout:function(){var a=this;this._queryTimeout>0&&(this._timeoutId=setTimeout(function(){a.xhr.abort(),a.timeoutExpired=!0},this._queryTimeout))},_openRequest:function(a){this._xhr.responseType=this._responseType,this._xhr.open(this._method,a,!0),this._applyHeaders(),this._applyCredentials()},_applyHeaders:function(){Object.keys(this._headers).forEach(function(a){this.xhr.setRequestHeader(a,this._headers[a])},this)},_applyCredentials:function(){if(this._withCredentials)try{this.xhr.withCredentials=!0}catch(a){}},_sendRequest:function(a){this._xhr.send(a)},_onRequestComplete:function(){clearTimeout(this._timeoutId),this._callback.call(this,new a(this))},get status(){return this._xhr.status},get responseHeaders(){return this._xhr.getAllResponseHeaders()},get query(){return this.serialize(this._params)},get method(){return this._method},get requestType(){return this._requestType},get xhr(){return this._xhr}},i}a.exports=b(c(1),c(3),c(4),c(2))}()}])});